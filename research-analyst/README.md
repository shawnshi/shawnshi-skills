# Research Analyst (V6.2: Forge Edition)

> 工业级深度研究流水线 | Industrial-Grade Deep Research Pipeline
> 
> **Core**: 分章撰写 (Modular Drafting) + 深度守卫 (Depth Guard) + 脱模自动化 (De-molding)

## 简介 (Introduction)

**Research Analyst** 是一个专为生成万字级深度研究报告而设计的专家系统。它解决了 LLM 在处理长文中易出现的“上下文遗忘”、“逻辑断层”和“内容肤浅”问题。通过 **GEB-Flow** 架构，本系统将研究过程拆解为“原子化”的章节生产，并通过 `scripts/` 引擎进行物理拼接与质量审计。

## 核心哲学 (Core Philosophy)

1.  **Cognitive Assembly Line (认知流水线)**: 将庞大的研究任务拆解为独立的章节，每章独立撰写，最后物理组装。
2.  **Substance Guard (深度守卫)**: 强制执行每章 **800+ 字** 的水位线约束，拒绝肤浅的“AI 味”综述。
3.  **De-molding Logic (脱模逻辑)**: 既然 AI 生成内容往往带有辅助性的元数据（如 `<thinking>` 块或过度的 `**加粗**`），本系统在组装时自动执行“脱模”，只保留纯净的干货。
4.  **3D Logic Audit (三维审计)**: 关注真实性 (Fidelity)、防御性 (Defensibility) 和信息熵 (Entropy)。

## 目录结构 (Structure)

- `SKILL.md`: 核心指令与操作协议
- `scripts/`: 生产工具箱
  - `assembler.py`: **"铁匠 (The Blacksmith)"** - 负责将分散的章节组装成最终报告，并执行字数与格式审计。
  - `memory_manager.py`: **"海马体 (The Hippocampus)"** - 管理跨章节的上下文记忆，防止幻觉。
  - `sync_macro.py`: 宏观信息同步工具。
- `agents/`: 专用 Agent 配置
- `examples/`: 优秀范例
- `references/`: 审计标准与参考资料

## 使用指南 (Usage)

### 1. 启动项目 (Initiation)
遵循 `SKILL.md` 中的 **Phase 1** 协议，初始化 `_DIR_META.md` 和 `working_memory.json`。

### 2. 分章撰写 (Drafting)
在 `research_projects/{ProjectName}/chapters/` 目录下生成分章文件（如 `01_market_analysis.md`, `02_tech_stack.md`）。
*   **约束**: 每章必须 >800 字。
*   **格式**: 严禁使用 Bullet Points 堆砌，必须使用叙事流。

### 3. 组装与审计 (Assembly & Audit)
使用 `assembler.py` 将章节合并为最终报告：

```bash
python scripts/assembler.py --path "research_projects/Your_Project/chapters" --title "2026 AI Strategy Report" --min_words 800
```

**脚本输出示例**:
*   `status`: `success` 或 `warning_depth_insufficient`
*   `audit`: 列出每一章的字数及是否达标
*   `path`: 最终生成文件的路径

### 4. 交付 (Delivery)
生成的报告会自动去除所有中间元数据和非法格式，直接可用于交付或发布。

## 故障排除 (Troubleshooting)

- **Depth Warning**: 如果 `assembler.py` 报错 `warning_depth_insufficient`，请不要忽略。返回对应章节进行扩充（可以使用 "Expand this section with specific case studies..." 指令）。
- **Metadata Leak**: 如果最终报告中仍有 `<thinking>` 或 `"""` 块，请检查正则表达式或手动清理。

---
*Generated by Gemini Agent based on SKILL.md analysis.*
